<!-- Notification Toast System - Alpine.js -->
<div x-data="{ 
    notifications: [],
    show(message, type = 'info', duration = 4000) {
        const id = Date.now();
        this.notifications.push({ id, message, type });
        setTimeout(() => this.remove(id), duration);
    },
    remove(id) {
        this.notifications = this.notifications.filter(n => n.id !== id);
    }
}" 
     @show-notification.window="show($event.detail.message, $event.detail.type, $event.detail.duration)"
     class="notification-container"
     x-cloak>
    
    <template x-for="notification in notifications" :key="notification.id">
        <div class="notification-toast"
             :class="`notification-${notification.type}`"
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 transform translate-x-full"
             x-transition:enter-end="opacity-100 transform translate-x-0"
             x-transition:leave="transition ease-in duration-300"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0 transform translate-x-full">
            
            <div class="notification-content">
                <div class="notification-icon">
                    <template x-if="notification.type === 'success'">
                        <i class="fas fa-check-circle"></i>
                    </template>
                    <template x-if="notification.type === 'error'">
                        <i class="fas fa-times-circle"></i>
                    </template>
                    <template x-if="notification.type === 'warning'">
                        <i class="fas fa-exclamation-triangle"></i>
                    </template>
                    <template x-if="notification.type === 'info'">
                        <i class="fas fa-info-circle"></i>
                    </template>
                </div>
                <span class="notification-message" x-text="notification.message"></span>
            </div>
            
            <button @click="remove(notification.id)" class="notification-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </template>
</div>

<style>
/* Notification Container */
.notification-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 99999;
    display: flex;
    flex-direction: column;
    gap: 10px;
    pointer-events: none;
}

/* Notification Toast */
.notification-toast {
    min-width: 320px;
    max-width: 420px;
    background: var(--white);
    border-radius: 12px;
    box-shadow: var(--shadow-lg);
    padding: 1rem 1.25rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    pointer-events: auto;
    border-left: 4px solid;
    cursor: pointer;
}

/* Notification Content */
.notification-content {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.notification-icon {
    font-size: 1.25rem;
    flex-shrink: 0;
}

.notification-message {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--dark-gray);
    line-height: 1.4;
}

/* Notification Close Button */
.notification-close {
    background: transparent;
    border: none;
    color: var(--medium-gray);
    font-size: 1.1rem;
    cursor: pointer;
    padding: 0.25rem;
    line-height: 1;
    transition: color var(--transition-fast);
    flex-shrink: 0;
}

.notification-close:hover {
    color: var(--dark-gray);
}

/* Notification Types */
.notification-success {
    border-left-color: var(--success);
}

.notification-success .notification-icon {
    color: var(--success);
}

.notification-error {
    border-left-color: var(--danger);
}

.notification-error .notification-icon {
    color: var(--danger);
}

.notification-warning {
    border-left-color: var(--warning);
}

.notification-warning .notification-icon {
    color: var(--warning);
}

.notification-info {
    border-left-color: var(--primary-blue);
}

.notification-info .notification-icon {
    color: var(--primary-blue);
}

/* Responsive */
@media (max-width: 480px) {
    .notification-container {
        left: 10px;
        right: 10px;
        top: 10px;
    }

    .notification-toast {
        min-width: auto;
        max-width: none;
    }
}
</style>