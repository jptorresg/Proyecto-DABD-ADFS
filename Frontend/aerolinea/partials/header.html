<!-- Header Component - Alpine.js -->
<header class="header" x-data="headerData()">
    <div class="header-container">
        <!-- Logo y Nombre -->
        <div class="logo-section">
            <a href="/frontend/aerolinea/views/index.html" class="d-flex align-items-center text-decoration-none">
                <div class="logo-circle">
                    <i class="fas fa-plane-departure"></i>
                </div>
                <span class="brand-name">Aerolíneas Halcón</span>
            </a>
        </div>

        <!-- Barra de Búsqueda -->
        <div class="search-section">
            <div class="search-bar">
                <i class="fas fa-search search-icon"></i>
                <input 
                    type="text" 
                    class="search-input" 
                    placeholder="Buscar vuelos, destinos..."
                    x-model="searchQuery"
                    @keyup.enter="performSearch"
                >
                <button class="filter-btn" title="Filtros" @click="toggleFilters">
                    <i class="fas fa-sliders-h"></i>
                </button>
            </div>
        </div>

        <!-- Sección de Usuario - Visitante Anónimo -->
        <div class="user-section" x-show="!isLoggedIn">
            <a href="/frontend/aerolinea/views/login.html" class="btn btn-outline">
                Iniciar Sesión
            </a>
            <a href="/frontend/aerolinea/views/registro.html" class="btn btn-primary">
                Registrarse
            </a>
        </div>

        <!-- Sección de Usuario - Usuario Registrado -->
        <div class="user-section user-logged" x-show="isLoggedIn" x-cloak>
            <div class="user-profile" @click="toggleProfileMenu">
                <div class="profile-circle">
                    <i class="fas fa-user"></i>
                </div>
                <span class="username" x-text="userName"></span>
                <i class="fas fa-chevron-down dropdown-icon" :class="{ 'rotate-180': showProfileMenu }"></i>
            </div>
            
            <!-- Dropdown Menu (opcional para futuro) -->
            <div x-show="showProfileMenu" 
                 x-transition
                 @click.away="showProfileMenu = false"
                 class="profile-dropdown"
                 style="display: none;">
                <a href="#" class="dropdown-item">Mi Perfil</a>
                <a href="/frontend/aerolinea/views/perfil/reservaciones.html" class="dropdown-item">Mis Reservaciones</a>
                <a href="#" class="dropdown-item">Configuración</a>
            </div>
            
            <button class="btn btn-outline" @click="logout">
                <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
            </button>
        </div>
    </div>
</header>

<style>
/* Estilos adicionales para Alpine.js */
[x-cloak] { display: none !important; }

.rotate-180 {
    transform: rotate(180deg);
}

.profile-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 0.5rem;
    background: white;
    border-radius: 8px;
    box-shadow: var(--shadow-lg);
    min-width: 200px;
    z-index: 1000;
}

.dropdown-item {
    display: block;
    padding: 0.75rem 1.25rem;
    color: var(--dark-gray);
    text-decoration: none;
    transition: background-color var(--transition-fast);
}

.dropdown-item:hover {
    background-color: var(--off-white);
    color: var(--primary-blue);
}

.dropdown-item:first-child {
    border-radius: 8px 8px 0 0;
}

.dropdown-item:last-child {
    border-radius: 0 0 8px 8px;
}
</style>