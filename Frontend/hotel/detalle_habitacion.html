<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle de Habitación - Bedly</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        :root { --primary-color: #003580; }
        body { font-family: 'DM Sans', sans-serif; background: #f0f4f8; }
        .navbar-bedly { background-color: var(--primary-color); padding: 0.75rem 0; }
        .brand { font-family: 'Playfair Display', serif; font-size: 1.8rem; font-weight: 900; color: #fff; text-decoration: none; }
        .brand span { color: #f5a623; }

        .gallery-main { width: 100%; height: 380px; object-fit: cover; border-radius: 15px; cursor: pointer; }
        .gallery-thumb { width: 100%; height: 90px; object-fit: cover; border-radius: 10px; cursor: pointer; transition: opacity 0.2s; border: 2px solid transparent; }
        .gallery-thumb.active { border-color: var(--primary-color); opacity: 1; }
        .gallery-thumb:hover { opacity: 0.85; }

        .room-title { font-family: 'Playfair Display', serif; font-size: 2rem; font-weight: 900; color: var(--primary-color); }
        .hotel-name { font-size: 0.95rem; color: #6b7280; }
        .stars { color: #f5a623; }

        .card { border: none; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 24px rgba(0,53,128,0.10); transition: transform 0.3s; }
        .booking-card { position: sticky; top: 80px; }

        .amenity-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.6rem; }
        .amenity-item { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; color: #374151; }
        .amenity-item i { color: var(--primary-color); font-size: 1rem; }

        .price-big { font-family: 'Playfair Display', serif; font-size: 2.2rem; font-weight: 700; color: var(--primary-color); }
        .price-big span { font-size: 1rem; font-family: 'DM Sans', sans-serif; color: #9ca3af; font-weight: 400; }

        .form-control, .form-select { border: 1.5px solid #e5e7eb; border-radius: 10px; font-family: 'DM Sans', sans-serif; }
        .form-control:focus, .form-select:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(0,53,128,0.1); }
        .form-label { font-size: 0.78rem; font-weight: 600; color: #6b7280; text-transform: uppercase; letter-spacing: 0.04em; }
        .btn-primary { background-color: var(--primary-color); border: none; border-radius: 10px; padding: 0.75rem; font-weight: 600; font-size: 1rem; transition: opacity 0.2s; }
        .btn-primary:hover { opacity: 0.88; background-color: var(--primary-color); }

        .score-big { background-color: var(--primary-color); color: #fff; border-radius: 12px 12px 12px 0; padding: 0.5rem 0.9rem; font-size: 1.3rem; font-weight: 700; display: inline-block; }

        .section-title { font-family: 'Playfair Display', serif; font-size: 1.3rem; font-weight: 700; color: var(--primary-color); border-bottom: 2px solid #e5e7eb; padding-bottom: 0.5rem; margin-bottom: 1.2rem; }

        .politica-item { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 0.75rem; font-size: 0.9rem; }
        .politica-icon { font-size: 1.1rem; margin-top: 1px; flex-shrink: 0; }

        .currency-toggle { display: inline-flex; background: #e5e7eb; border-radius: 20px; padding: 3px; }
        .currency-btn { border: none; background: transparent; border-radius: 16px; padding: 0.25rem 0.8rem; font-size: 0.82rem; font-weight: 600; cursor: pointer; transition: all 0.2s; color: #6b7280; }
        .currency-btn.active { background-color: var(--primary-color); color: #fff; }
    </style>
</head>
<body x-data="detalleApp()">
    <nav class="navbar-bedly mb-4">
        <div class="container d-flex justify-content-between align-items-center">
            <a class="brand" href="index.html">Bed<span>ly</span></a>
            <a href="index.html" class="btn btn-outline-light btn-sm rounded-pill"><i class="bi bi-arrow-left me-1"></i>Volver al catálogo</a>
        </div>
    </nav>

    <main class="container pb-5">
        <div class="row g-4">
            <!-- Contenido principal -->
            <div class="col-lg-8">
                <!-- Galería -->
                <img :src="fotoActiva" alt="Habitación" class="gallery-main mb-2">
                <div class="row g-2 mb-4">
                    <template x-for="(foto, i) in habitacion.fotos" :key="i">
                        <div class="col-3">
                            <img :src="foto" class="gallery-thumb" :class="fotoActiva === foto ? 'active' : ''" @click="fotoActiva = foto">
                        </div>
                    </template>
                </div>

                <!-- Nombre y score -->
                <div class="d-flex justify-content-between align-items-start mb-3">
                    <div>
                        <h1 class="room-title mb-1" x-text="habitacion.nombre"></h1>
                        <p class="hotel-name mb-1"><i class="bi bi-building me-1"></i><span x-text="habitacion.hotel"></span> · <span x-text="habitacion.ubicacion"></span></p>
                        <div class="stars" x-html="'★'.repeat(habitacion.estrellas)"></div>
                    </div>
                    <div class="text-end">
                        <div class="score-big" x-text="habitacion.score"></div>
                        <div style="font-size:0.78rem; color:#6b7280; margin-top:4px;" x-text="habitacion.scoreLabel"></div>
                        <div style="font-size:0.75rem; color:#9ca3af;" x-text="habitacion.numResenas + ' reseñas'"></div>
                    </div>
                </div>

                <!-- Descripción -->
                <div class="card mb-4">
                    <div class="card-body p-4">
                        <h5 class="section-title">Descripción</h5>
                        <p style="font-size:0.95rem; color:#374151; line-height:1.7;" x-text="habitacion.descripcion"></p>
                        <div class="row mt-3 g-2">
                            <div class="col-auto">
                                <span class="badge bg-light text-dark border" style="font-size:0.82rem;">
                                    <i class="bi bi-people me-1" style="color:var(--primary-color)"></i>Capacidad: <span x-text="habitacion.capacidad"></span> personas
                                </span>
                            </div>
                            <div class="col-auto">
                                <span class="badge bg-light text-dark border" style="font-size:0.82rem;">
                                    <i class="bi bi-rulers me-1" style="color:var(--primary-color)"></i><span x-text="habitacion.metros"></span> m²
                                </span>
                            </div>
                            <div class="col-auto">
                                <span class="badge bg-light text-dark border" style="font-size:0.82rem;">
                                    <i class="bi bi-door-open me-1" style="color:var(--primary-color)"></i>Piso <span x-text="habitacion.piso"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Amenidades -->
                <div class="card mb-4">
                    <div class="card-body p-4">
                        <h5 class="section-title">Servicios Incluidos</h5>
                        <div class="amenity-grid">
                            <template x-for="a in habitacion.amenidades" :key="a.label">
                                <div class="amenity-item">
                                    <i :class="'bi ' + a.icon"></i>
                                    <span x-text="a.label"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Política de cancelación -->
                <div class="card mb-4">
                    <div class="card-body p-4">
                        <h5 class="section-title">Políticas de Cancelación</h5>
                        <div class="politica-item">
                            <i class="bi bi-check-circle-fill text-success politica-icon"></i>
                            <span>Cancelación gratuita hasta 48 horas antes del check-in.</span>
                        </div>
                        <div class="politica-item">
                            <i class="bi bi-exclamation-circle-fill text-warning politica-icon"></i>
                            <span>Entre 24-48 horas: reembolso del 50% del total pagado.</span>
                        </div>
                        <div class="politica-item">
                            <i class="bi bi-x-circle-fill text-danger politica-icon"></i>
                            <span>Menos de 24 horas antes: sin reembolso aplicable.</span>
                        </div>
                        <div class="politica-item">
                            <i class="bi bi-clock-fill text-primary politica-icon"></i>
                            <span>Check-in: 3:00 PM · Check-out: 12:00 PM</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Booking card -->
            <div class="col-lg-4">
                <div class="card booking-card">
                    <div class="card-body p-4">
                        <div class="d-flex justify-content-between align-items-center mb-1">
                            <div class="price-big">
                                <span x-text="moneda === 'GTQ' ? 'Q' : '$'"></span><span x-text="moneda === 'GTQ' ? habitacion.precio : (habitacion.precio / 7.8).toFixed(0)"></span>
                                <span>/ noche</span>
                            </div>
                            <div class="currency-toggle">
                                <button class="currency-btn" :class="moneda === 'GTQ' ? 'active' : ''" @click="moneda = 'GTQ'">Q</button>
                                <button class="currency-btn" :class="moneda === 'USD' ? 'active' : ''" @click="moneda = 'USD'">$</button>
                            </div>
                        </div>
                        <p class="text-muted small mb-3">Impuestos incluidos · Confirmación inmediata</p>

                        <div class="mb-3">
                            <label class="form-label">Check-in</label>
                            <input type="date" class="form-control" x-model="checkIn">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Check-out</label>
                            <input type="date" class="form-control" x-model="checkOut">
                        </div>
                        <div class="mb-4">
                            <label class="form-label">Huéspedes</label>
                            <select class="form-select" x-model="huespedes">
                                <option value="1">1 huésped</option>
                                <option value="2">2 huéspedes</option>
                                <option value="3">3 huéspedes</option>
                                <option value="4">4 huéspedes</option>
                            </select>
                        </div>

                        <!-- Resumen precio -->
                        <div class="bg-light rounded-3 p-3 mb-3" x-show="noches > 0">
                            <div class="d-flex justify-content-between small mb-1">
                                <span x-text="(moneda === 'GTQ' ? 'Q' : '$') + (moneda === 'GTQ' ? habitacion.precio : (habitacion.precio/7.8).toFixed(0)) + ' × ' + noches + ' noche(s)'"></span>
                                <span x-text="(moneda === 'GTQ' ? 'Q ' : '$ ') + subtotal"></span>
                            </div>
                            <div class="d-flex justify-content-between small text-muted mb-2">
                                <span>IVA (12%)</span>
                                <span x-text="(moneda === 'GTQ' ? 'Q ' : '$ ') + iva"></span>
                            </div>
                            <hr class="my-2">
                            <div class="d-flex justify-content-between fw-bold">
                                <span>Total</span>
                                <span class="text-success" x-text="(moneda === 'GTQ' ? 'Q ' : '$ ') + total"></span>
                            </div>
                        </div>

                        <a href="reserva.html" class="btn btn-primary w-100">
                            <i class="bi bi-calendar-check me-2"></i>Reservar Ahora
                        </a>
                        <p class="text-center text-muted small mt-2 mb-0">
                            <i class="bi bi-shield-check me-1 text-success"></i>Sin cargos hasta confirmar
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
    function detalleApp() {
        return {
            moneda: 'GTQ',
            checkIn: '',
            checkOut: '',
            huespedes: 2,
            fotoActiva: 'https://images.unsplash.com/photo-1631049307264-da0ec9d70304?w=800&h=400&fit=crop',
            habitacion: {
                nombre: 'Suite Ejecutiva',
                hotel: 'Hotel Grand UNIS',
                ubicacion: 'Zona 10, Guatemala City',
                estrellas: 5,
                score: '9.2',
                scoreLabel: 'Excepcional',
                numResenas: 147,
                precio: 1200,
                capacidad: 2,
                metros: 55,
                piso: 8,
                descripcion: 'Nuestra Suite Ejecutiva ofrece una experiencia de lujo incomparable con vistas panorámicas a la ciudad. Diseñada para el viajero de negocios exigente, combina elegancia contemporánea con todas las comodidades modernas. Disfruta de una cama king size, sala de estar independiente y baño de mármol con jacuzzi.',
                fotos: [
                    'https://images.unsplash.com/photo-1631049307264-da0ec9d70304?w=800&h=400&fit=crop',
                    'https://images.unsplash.com/photo-1560347876-aeef00ee58a1?w=800&h=400&fit=crop',
                    'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=800&h=400&fit=crop',
                    'https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=800&h=400&fit=crop',
                ],
                amenidades: [
                    { label: 'WiFi de alta velocidad', icon: 'bi-wifi' },
                    { label: 'Aire acondicionado', icon: 'bi-snow' },
                    { label: 'Desayuno incluido', icon: 'bi-cup-hot-fill' },
                    { label: 'Piscina', icon: 'bi-water' },
                    { label: 'Gimnasio', icon: 'bi-activity' },
                    { label: 'Spa', icon: 'bi-heart-pulse' },
                    { label: 'Estacionamiento', icon: 'bi-p-circle' },
                    { label: 'Room service 24h', icon: 'bi-clock' },
                    { label: 'Caja fuerte', icon: 'bi-safe' },
                    { label: 'Smart TV 65"', icon: 'bi-tv' },
                ]
            },

            get noches() {
                if (!this.checkIn || !this.checkOut) return 0;
                const diff = new Date(this.checkOut) - new Date(this.checkIn);
                return Math.max(0, Math.floor(diff / (1000 * 60 * 60 * 24)));
            },
            get subtotal() {
                const precio = this.moneda === 'GTQ' ? this.habitacion.precio : (this.habitacion.precio / 7.8);
                return (precio * this.noches).toFixed(0);
            },
            get iva() {
                return (this.subtotal * 0.12).toFixed(0);
            },
            get total() {
                return (parseFloat(this.subtotal) + parseFloat(this.iva)).toFixed(0);
            }
        }
    }
    </script>
</body>
</html>
